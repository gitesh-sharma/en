<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Image to WebP Converter | Sharmaji Tools</title>
<meta name="description" content="Free Image to WebP Converter with Compression Slider & Batch Support by Sharmaji Tools">

<style>
:root{
  --dark:#0f172a;
  --card:#1e293b;
  --primary:#22c55e;
}

*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:Arial, sans-serif;
}

body{
  background:var(--dark);
  color:#fff;
}

header{
  background:#111827;
  padding:15px 20px;
  text-align:center;
  border-bottom:1px solid rgba(255,255,255,0.1);
}

.tool-section{
  padding:40px 15px;
}

.tool-container{
  max-width:1000px;
  margin:auto;
  background:var(--card);
  padding:30px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,0.08);
}

.tool-container h1{
  text-align:center;
  margin-bottom:25px;
}

/* Upload */
.upload-wrapper{
  display:flex;
  justify-content:center;
}

.upload-box{
  width:100%;
  max-width:500px;
  padding:40px 20px;
  text-align:center;
  border:2px dashed rgba(255,255,255,0.2);
  border-radius:14px;
  background:#0f172a;
  cursor:pointer;
  transition:.3s;
}

.upload-box:hover{
  border-color:var(--primary);
  background:rgba(34,197,94,0.05);
}

.upload-box.dragover{
  border-color:var(--primary);
  background:rgba(34,197,94,0.1);
  box-shadow:0 0 20px rgba(34,197,94,0.4);
}

/* Slider */
.quality-box{
  margin-top:25px;
  text-align:center;
}

.quality-box input{
  width:100%;
  margin-top:10px;
}

/* Preview Grid */
.preview-grid{
  margin-top:25px;
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(150px,1fr));
  gap:15px;
}

.preview-card{
  background:#0f172a;
  padding:10px;
  border-radius:10px;
  font-size:13px;
  text-align:center;
}

.preview-card img{
  width:100%;
  height:120px;
  object-fit:cover;
  border-radius:8px;
  margin-bottom:8px;
}

button{
  width:100%;
  padding:12px;
  border:none;
  border-radius:8px;
  margin-top:20px;
  font-size:15px;
  cursor:pointer;
}

.convert{
  background:var(--primary);
  color:#fff;
}

.download{
  background:#2563eb;
  color:#fff;
  display:none;
}

footer{
  margin-top:50px;
  background:#111827;
  text-align:center;
  padding:20px;
  font-size:14px;
  border-top:1px solid rgba(255,255,255,0.1);
}
</style>
</head>

<body>

<header>
  <h2>Sharmaji Tools</h2>
</header>

<section class="tool-section">
  <div class="tool-container">
    <h1>Image to WebP Converter</h1>

    <div class="upload-wrapper">
      <div class="upload-box" id="uploadBox">
        <p>Drag & Drop Images Here</p>
        <small>or Click to Upload</small>
        <input type="file" id="imageInput" accept="image/*" multiple hidden>
      </div>
    </div>

    <div class="quality-box">
      <label>Compression Quality: <strong><span id="qualityValue">80</span>%</strong></label>
      <input type="range" id="qualitySlider" min="10" max="100" value="80">
    </div>

    <div class="preview-grid" id="previewGrid"></div>

    <button class="convert" onclick="convertImages()">Convert to WebP</button>
    <button class="download" id="downloadAllBtn" onclick="downloadAll()">Download All</button>

  </div>
</section>

<footer>
  Â© 2026 Sharmaji Technology Media.
</footer>

<script>
const uploadBox = document.getElementById("uploadBox");
const fileInput = document.getElementById("imageInput");
const previewGrid = document.getElementById("previewGrid");
const downloadBtn = document.getElementById("downloadAllBtn");
const slider = document.getElementById("qualitySlider");
const qualityValue = document.getElementById("qualityValue");

let files = [];
let convertedImages = [];

qualityValue.innerText = slider.value;

slider.addEventListener("input",()=>{
  qualityValue.innerText = slider.value;
});

uploadBox.addEventListener("click",()=>fileInput.click());

uploadBox.addEventListener("dragover",e=>{
  e.preventDefault();
  uploadBox.classList.add("dragover");
});

uploadBox.addEventListener("dragleave",()=>{
  uploadBox.classList.remove("dragover");
});

uploadBox.addEventListener("drop",e=>{
  e.preventDefault();
  uploadBox.classList.remove("dragover");
  files = Array.from(e.dataTransfer.files);
  displayPreviews();
});

fileInput.addEventListener("change",()=>{
  files = Array.from(fileInput.files);
  displayPreviews();
});

function displayPreviews(){
  previewGrid.innerHTML="";
  files.forEach(file=>{
    const reader=new FileReader();
    reader.onload=e=>{
      const card=document.createElement("div");
      card.className="preview-card";
      card.innerHTML=`
        <img src="${e.target.result}">
        <strong>${file.name}</strong><br>
        Before: ${(file.size/1024).toFixed(2)} KB
        <div id="after-${file.name}"></div>
      `;
      previewGrid.appendChild(card);
    };
    reader.readAsDataURL(file);
  });
}

function convertImages(){
  convertedImages=[];
  files.forEach(file=>{
    const reader=new FileReader();
    reader.onload=e=>{
      const img=new Image();
      img.onload=()=>{
        const canvas=document.createElement("canvas");
        canvas.width=img.width;
        canvas.height=img.height;
        const ctx=canvas.getContext("2d");
        ctx.drawImage(img,0,0);

        canvas.toBlob(blob=>{
          convertedImages.push({name:file.name, blob:blob});
          document.getElementById("after-"+file.name).innerHTML=
            "After: "+(blob.size/1024).toFixed(2)+" KB";
          downloadBtn.style.display="block";
        },"image/webp", slider.value/100);
      };
      img.src=e.target.result;
    };
    reader.readAsDataURL(file);
  });
}

function downloadAll(){
  convertedImages.forEach(img=>{
    const link=document.createElement("a");
    link.href=URL.createObjectURL(img.blob);
    link.download=img.name.replace(/\.[^/.]+$/,"")+".webp";
    link.click();
  });
}
</script>

</body>
</html>
