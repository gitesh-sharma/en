<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Image to WebP Converter | Sharmaji Tools</title>
<meta name="description" content="Free Image to WebP Converter with Batch Support by Sharmaji Tools">

<style>
:root{
  --dark:#0f172a;
  --card:#1e293b;
  --primary:#22c55e;
}

*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:Arial, sans-serif;
}

body{
  background:var(--dark);
  color:#fff;
}

header{
  background:#111827;
  padding:15px 20px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  border-bottom:1px solid rgba(255,255,255,0.1);
}

header h2{
  font-size:20px;
}

.tool-section{
  padding:50px 15px;
}

.tool-container{
  max-width:900px;
  margin:auto;
  background:var(--card);
  padding:30px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,0.08);
}

.tool-container h1{
  text-align:center;
  margin-bottom:25px;
}

/* Upload */
.upload-wrapper{
  display:flex;
  justify-content:center;
  width:100%;
}

.upload-box{
  width:100%;
  max-width:450px;
  padding:45px 20px;
  text-align:center;
  border:2px dashed rgba(255,255,255,0.2);
  border-radius:14px;
  background:#0f172a;
  cursor:pointer;
  transition:.3s;
}

.upload-box:hover{
  border-color:var(--primary);
  background:rgba(34,197,94,0.05);
}

.upload-box.dragover{
  border-color:var(--primary);
  background:rgba(34,197,94,0.1);
  box-shadow:0 0 20px rgba(34,197,94,0.4);
}

.upload-box p{
  font-size:18px;
}

.upload-box span{
  font-size:14px;
  opacity:.7;
}

/* Stats */
.file-list{
  margin-top:25px;
}

.file-item{
  background:#0f172a;
  padding:15px;
  border-radius:10px;
  margin-bottom:12px;
  font-size:14px;
}

button{
  width:100%;
  padding:12px;
  border:none;
  border-radius:8px;
  margin-top:15px;
  font-size:15px;
  cursor:pointer;
}

.convert{
  background:var(--primary);
  color:#fff;
}

.download{
  background:#2563eb;
  color:#fff;
  display:none;
}

footer{
  margin-top:50px;
  background:#111827;
  text-align:center;
  padding:20px;
  font-size:14px;
  border-top:1px solid rgba(255,255,255,0.1);
}

/* Mobile */
@media(max-width:600px){
  .upload-box{
    padding:30px 15px;
  }
}
</style>
</head>

<body>

<header>
  <h2>Sharmaji Tools</h2>
</header>

<section class="tool-section">
  <div class="tool-container">
    <h1>Image to WebP Converter</h1>

    <div class="upload-wrapper">
      <div class="upload-box" id="uploadBox">
        <p>Drag & Drop Images Here</p>
        <span>or Click to Upload</span>
        <input type="file" id="imageInput" accept="image/*" multiple hidden>
      </div>
    </div>

    <div class="file-list" id="fileList"></div>

    <button class="convert" onclick="convertImages()">Convert to WebP</button>
    <button class="download" id="downloadAllBtn" onclick="downloadAll()">Download All</button>

  </div>
</section>

<footer>
  Â© 2026 Sharmaji Technology Media.
</footer>

<script>
const uploadBox = document.getElementById("uploadBox");
const fileInput = document.getElementById("imageInput");
const fileList = document.getElementById("fileList");
const downloadBtn = document.getElementById("downloadAllBtn");

let convertedImages = [];

uploadBox.addEventListener("click", () => fileInput.click());

uploadBox.addEventListener("dragover", e=>{
  e.preventDefault();
  uploadBox.classList.add("dragover");
});

uploadBox.addEventListener("dragleave", ()=>{
  uploadBox.classList.remove("dragover");
});

uploadBox.addEventListener("drop", e=>{
  e.preventDefault();
  uploadBox.classList.remove("dragover");
  fileInput.files = e.dataTransfer.files;
  displayFiles();
});

fileInput.addEventListener("change", displayFiles);

function displayFiles(){
  fileList.innerHTML="";
  convertedImages=[];
  Array.from(fileInput.files).forEach(file=>{
    const item=document.createElement("div");
    item.className="file-item";
    item.innerHTML=`
      <strong>${file.name}</strong><br>
      Before: ${(file.size/1024).toFixed(2)} KB
      <div id="after-${file.name}"></div>
    `;
    fileList.appendChild(item);
  });
}

function convertImages(){
  convertedImages=[];
  Array.from(fileInput.files).forEach(file=>{
    const reader=new FileReader();
    reader.onload=function(e){
      const img=new Image();
      img.onload=function(){
        const canvas=document.createElement("canvas");
        canvas.width=img.width;
        canvas.height=img.height;
        const ctx=canvas.getContext("2d");
        ctx.drawImage(img,0,0);

        canvas.toBlob(blob=>{
          convertedImages.push({name:file.name, blob:blob});

          document.getElementById("after-"+file.name).innerHTML=
          "<br>After: "+(blob.size/1024).toFixed(2)+" KB";
          
          downloadBtn.style.display="block";
        },"image/webp",0.8);

      };
      img.src=e.target.result;
    };
    reader.readAsDataURL(file);
  });
}

function downloadAll(){
  convertedImages.forEach(img=>{
    const link=document.createElement("a");
    link.href=URL.createObjectURL(img.blob);
    link.download=img.name.replace(/\.[^/.]+$/,"")+".webp";
    link.click();
  });
}
</script>

</body>
</html>
